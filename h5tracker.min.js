!function(n,e){function t(n){if(!n||"string"!=typeof n)return n;var e=d[n];return e?e:(e=n.indexOf("-")<0&&n.indexOf("_")<0?n:n.replace(/[-_]+([a-z])/gi,function(n,e){return e.toUpperCase()}),d[n]=e,e)}function r(){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function o(){function n(n,e){return i.push({event:n,fn:e}),o}function e(n,e){return i=i.filter(function(t){return!(t.event===n&&t.fn===e)}),o}function t(t,r){function i(){e(t,i),r.apply(o,arguments)}return n(t,i),o}function r(n){var e=[].slice.call(arguments,1);return i.filter(function(e){return e.event===n}).forEach(function(n){n.fn.apply(o,e)}),o}var o={},i=[];return o.on=n,o.off=e,o.once=t,o.emit=r,o}function i(n,e,t){function o(o){if(e[a]!==c&&(i=null),!i)try{i=JSON.parse(e[n]||"[]")}catch(f){i=[]}i.push({birthday:Date.now(),expires:t,data:o}),e[a]=r(),e[n]=JSON.stringify(i)}var i,f={},a=n+"_ts",c=null;return e=e||localStorage,t=t||864e3,f.push=o,f}function f(n,e,r){var o=function(i,f){var a,c;if("function"==typeof i)return c=i["-jsets-params"],c||(c=[],String(i).replace(/\(\s*([^()]+?)\s*\)/,function(n,e){c=e.split(/\s*,\s*/)}),i["-jsets-params"]=c),o(c,i);if("string"==typeof i||"number"==typeof i)return i=r?t(i):i,"function"==typeof f?(f.call(n,e(i)),n):e(i);if("object"==typeof i){if(i instanceof Array)return"function"==typeof f?(a=[],i.forEach(function(n){a.push(e(r?t(n):n))}),f.apply(n,a),n):(a={},i.forEach(function(n){a[n]=e(r?t(n):n)}),a);var u;if("function"==typeof f){a=[];for(u in i)a.push(e(r?t(u):u)||i[u]);return n}a={};for(u in i)a[u]=e(r?t(u):u)||i[u];return a}};return o}function a(n,e,r){return function(o,i){if("string"==typeof o||"number"==typeof o)e(r?t(o):o,i);else if("object"==typeof o)if(o instanceof Array)o.forEach(function(n,t){e(t,n)});else for(var f in o)e(r?t(f):f,o[f]);return n}}function c(n){function e(n){c.push(n)}function t(n){return Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")}function r(n,e){a.push({accept:e,query:t(n)})}function o(){c.clean(),a.clean()}var f={},a=i(n+"_send"),c=i(n+"_log");return f.log=e,f.send=r,f.scan=o,f}function u(n,e){function t(n,e){return void 0===p?(v.push({name:n,data:e}),!1):(d[n](e),!0)}function r(n){t("send",n)&&(s.emit("send",n),e.send(n))}function i(n){"string"==typeof n&&(n={message:n,level:"debug"}),t("log",n)&&(s.emit("log",n),console[n.level].call(console,n.message),e.log(n))}function u(n){p=n.accept,d=n.event||{},m=n.data||{},(v||[]).forEach(function(n){var e=d[n.name];e&&e(n.data)}),v=null}var s=o();s.name=n;var p,e=c(n),l={};s.set=a(s,function(n,e){l[n]=e},!0),s.get=f(s,function(n){return l[n]},!0);var d={},v=[],m={};return s.send=r,s.log=i,["debug","info","warn","error","fatal"].forEach(function(n){s[n]=function(e){i({level:n,message:e})}}),s.create=u,s}function s(n){function e(){}function t(e){if("string"!=typeof e)return void console.error('Parameter "line" is not a string type.');var t=e.match(/^(?:([\w$_]+)\.)?(\w+)$/);if(!t)return void console.error('Parameter "line" is invalid format.');var r=t[1],o=t[2],i=[].slice.call(arguments,1);if(r){var f=v[r];if(f||(f=v[r]=u(n+"_"+r)),"function"==typeof f[o])return f[o].apply(f,i);console.error('Tracker method "%s" is invalid.',o)}else{if("function"==typeof m[o])return m[o].apply(m,i);console.error('App method "%s" is invalid.',o)}}console.log("createApp() appName: %s",n);var r=u("main");r.createEmitter=o,v[r.name]=r;return r.config=e,r.cmd=t,r}var p=e.h5tObjectName||"h5t",l=e[p];if(!l||!l.defined){var d={},v={},m=s(p),y=function(){m.cmd.apply(m,arguments)};if(y.app=m,y.defined=!0,l){var g=[].concat(l.p||[],l.q||[]);l.p=l.q=null,y.p=y.q={push:function(n){y.apply(y,n)}},g.forEach(function(n){y.apply(y,n)})}e[p]=y}}(document,window);